<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <style>
            div{
                width: 300px;
                overflow-x: scroll;
                border: solid 1px;
            }
        </style>
    </head>
    <body>
        <!--div id="cvsarea" width="500">
            <!--canvas style="border: 1px solid;" id="tmcanvas" width="960" height="250" oncontextmenu="return false;"></canvas>
        </div-->
        <canvas style="border: 1px solid;" id="tmcanvas" width="500" height="500" oncontextmenu="return false;"></canvas>
    </body>
</html>
<script>
    let g = "n";
    let cvs = document.getElementById( "tmcanvas" ).getContext( "2d" );
    $( function(){
        
        $( "#tmcanvas" ).on( "touchmove", function(e){
            cvs.fillRect( event.changedTouches[0].pageX-2.5-8, event.changedTouches[0].pageY-2.5-8, 5, 5 );
        });
        
        $( "#tmcanvas" ).on( "mousemove", function(e){
            if( g == "d" ){
                console.log( "drow" );
                cvs.fillRect( e.offsetX-2.5, e.offsetY-2.5, 5, 5 );
            }
        });
        
        $( "#tmcanvas" ).on( "mousedown", function(){
            console.log( "mousedown" );
            g = "d";
        });
        
        $( "#tmcanvas" ).on( "mouseup", function(){
            console.log( "mouseup" );
            g = "n";
        });
    })
    
</script>
